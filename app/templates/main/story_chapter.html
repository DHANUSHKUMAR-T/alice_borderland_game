{% extends "base.html" %}
{% block content %}

<div class="story-reader">

    <div class="story-panel">
        <h2 class="menu-title chapter-heading">{{ chapter.title.en }}</h2>

        <!-- Controls -->
        <div class="story-controls">
            <label for="lang-select">Language:</label>
            <select id="lang-select">
                <option value="en" selected>English</option>
                <option value="ta">Tamil</option>
                <option value="te">Telugu</option>
            </select>

            <button id="read-btn" class="btn red-btn">ğŸ”Š Read Aloud</button>
            <button id="pause-btn" class="btn dark-btn">â¸ Pause</button>
        </div>

        <!-- Story Content -->
        <p id="story-text"
           class="story-text"
           data-en="{{ chapter.text.en | e }}"
           data-ta="{{ chapter.text.ta | e }}"
           data-te="{{ chapter.text.te | e }}">
            {{ chapter.text.en }}
        </p>

        <!-- Navigation Buttons -->
        <div class="reader-nav">
            {% if chapter.id > 1 %}
                <a class="btn card-btn" href="{{ url_for('main.story_chapter', chapter_id=chapter.id - 1) }}">â† Previous</a>
            {% endif %}

            <a class="btn card-btn" href="{{ url_for('main.story_index') }}">Back to Chapters</a>

            {% if chapter.id < 7 %}
                <a class="btn card-btn" href="{{ url_for('main.story_chapter', chapter_id=chapter.id + 1) }}">Next â†’</a>
            {% endif %}
        </div>
    </div>

</div>

<!-- Load JS -->
<script src="{{ url_for('static', filename='js/story_reader.js') }}"></script>

{% endblock %}
