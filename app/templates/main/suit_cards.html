{% extends "base.html" %}
{% block content %}

<h2 class="menu-title">{{ suit|title }} â€” Phase 1</h2>

<div class="cards-grid">

    {% set suit_map = {
        "spades": "S",
        "hearts": "H",
        "diamonds": "D",
        "clubs": "C"
    } %}

    {% for card, done in cards.items() %}

        {% if card == '10' %}
            {% set rank = '0' %}
        {% else %}
            {% set rank = card %}
        {% endif %}

        {% set suit_code = suit_map[suit] %}
        {% set img_url = "https://deckofcardsapi.com/static/img/" + rank + suit_code + ".png" %}

        <div class="card-wrapper">

            <a class="card-tile"
               href="{{ url_for('main.game_page', suit=suit, card=card) }}">
                <img src="{{ img_url }}" class="card-image">
            </a>

            {% if done %}
                <div class="card-status done">âœ”ï¸</div>
            {% else %}
                <div class="card-status incomplete">âœ–ï¸</div>
            {% endif %}

        </div>

    {% endfor %}

</div>

<!-- FIXED BOTTOM RIGHT BUTTON -->
<div class="face-card-container">
    {% if all_done %}
        <a class="face-card-btn unlocked" href="{{ url_for('main.face_cards', suit=suit) }}">
            Face Cards â†’
        </a>
    {% else %}
        <button class="face-card-btn locked" disabled>
            ğŸ”’ Face Cards (Complete Aâ€“10)
        </button>
    {% endif %}
</div>

{% endblock %}
